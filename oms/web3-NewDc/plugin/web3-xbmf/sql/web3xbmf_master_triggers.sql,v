head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2011.03.16.03.46.03;	author zhang-tengyu;	state Exp;
branches;
next	;
deltatype	text;
kopt	b;
permissions	666;
commitid	6004d80209d0226;
filename	web3xbmf_master_triggers.sql;


desc
@@


1.1
log
@*** empty log message ***
@
text
@------------------------------------------------------------------
-- Autogenerated per-table triggers for mutators
------------------------------------------------------------------

--------------------------------------------------
--- mutual_fund_product_category

create trigger inv_mutual_fund_product_ca_ins
  after insert on mutual_fund_product_category
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_product_category', 'ins', 0, :new.institution_code||','||:new.category_code );
  end;
/
show errors

create trigger inv_mutual_fund_product_ca_upd
  before update on mutual_fund_product_category
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_product_category', 'upd', 0, :old.institution_code||','||:old.category_code );
  end;
/
show errors

create trigger inv_mutual_fund_product_ca_del
  before delete on mutual_fund_product_category
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_product_category', 'del', 0, :old.institution_code||','||:old.category_code );
  end;
/
show errors

--------------------------------------------------
--- mutual_fund_2nd_product_sonar

create trigger inv_mutual_fund_2nd_produc_ins
  after insert on mutual_fund_2nd_product_sonar
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_2nd_product_sonar', 'ins', 0, :new.product_code||','||:new.institution_code );
  end;
/
show errors

create trigger inv_mutual_fund_2nd_produc_upd
  before update on mutual_fund_2nd_product_sonar
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_2nd_product_sonar', 'upd', 0, :old.product_code||','||:old.institution_code );
  end;
/
show errors

create trigger inv_mutual_fund_2nd_produc_del
  before delete on mutual_fund_2nd_product_sonar
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_2nd_product_sonar', 'del', 0, :old.product_code||','||:old.institution_code );
  end;
/
show errors

--------------------------------------------------
--- mutual_fund_product_sonar

create trigger inv_mutual_fund_product_so_ins
  after insert on mutual_fund_product_sonar
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_product_sonar', 'ins', 0, :new.product_code );
  end;
/
show errors

create trigger inv_mutual_fund_product_so_upd
  before update on mutual_fund_product_sonar
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_product_sonar', 'upd', 0, :old.product_code );
  end;
/
show errors

create trigger inv_mutual_fund_product_so_del
  before delete on mutual_fund_product_sonar
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_product_sonar', 'del', 0, :old.product_code );
  end;
/
show errors

--------------------------------------------------
--- mutual_fund_inst_cond_sonar

create trigger inv_mutual_fund_inst_cond__ins
  after insert on mutual_fund_inst_cond_sonar
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_inst_cond_sonar', 'ins', 0, :new.institution_code||','||:new.product_code );
  end;
/
show errors

create trigger inv_mutual_fund_inst_cond__upd
  before update on mutual_fund_inst_cond_sonar
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_inst_cond_sonar', 'upd', 0, :old.institution_code||','||:old.product_code );
  end;
/
show errors

create trigger inv_mutual_fund_inst_cond__del
  before delete on mutual_fund_inst_cond_sonar
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_inst_cond_sonar', 'del', 0, :old.institution_code||','||:old.product_code );
  end;
/
show errors

--------------------------------------------------
--- mutual_fund_inst_commission

create trigger inv_mutual_fund_inst_commi_ins
  after insert on mutual_fund_inst_commission
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_inst_commission', 'ins', 0, :new.institution_code||','||:new.product_code||','||:new.deal_div||','||:new.order_chanel||','||to_char(:new.valid_date_from, 'YYMMDDHH24MISS') );
  end;
/
show errors

create trigger inv_mutual_fund_inst_commi_upd
  before update on mutual_fund_inst_commission
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_inst_commission', 'upd', 0, :old.institution_code||','||:old.product_code||','||:old.deal_div||','||:old.order_chanel||','||to_char(:old.valid_date_from, 'YYMMDDHH24MISS') );
  end;
/
show errors

create trigger inv_mutual_fund_inst_commi_del
  before delete on mutual_fund_inst_commission
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_inst_commission', 'del', 0, :old.institution_code||','||:old.product_code||','||:old.deal_div||','||:old.order_chanel||','||to_char(:old.valid_date_from, 'YYMMDDHH24MISS') );
  end;
/
show errors

--------------------------------------------------
--- mf_exemption_account

create trigger inv_mf_exemption_account_ins
  after insert on mf_exemption_account
  for each row
  declare
  begin
    invalidation.on_mutate( 'mf_exemption_account', 'ins', 0, :new.institution_code||','||:new.branch_code||','||:new.account_code||','||:new.exemption_div );
  end;
/
show errors

create trigger inv_mf_exemption_account_upd
  before update on mf_exemption_account
  for each row
  declare
  begin
    invalidation.on_mutate( 'mf_exemption_account', 'upd', 0, :old.institution_code||','||:old.branch_code||','||:old.account_code||','||:old.exemption_div );
  end;
/
show errors

create trigger inv_mf_exemption_account_del
  before delete on mf_exemption_account
  for each row
  declare
  begin
    invalidation.on_mutate( 'mf_exemption_account', 'del', 0, :old.institution_code||','||:old.branch_code||','||:old.account_code||','||:old.exemption_div );
  end;
/
show errors

--------------------------------------------------
--- mutual_fund_frgncal

create trigger inv_mutual_fund_frgncal_ins
  after insert on mutual_fund_frgncal
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_frgncal', 'ins', 0, :new.institution_code||','||:new.product_code||','||to_char(:new.holiday, 'YYMMDDHH24MISS') );
  end;
/
show errors

create trigger inv_mutual_fund_frgncal_upd
  before update on mutual_fund_frgncal
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_frgncal', 'upd', 0, :old.institution_code||','||:old.product_code||','||to_char(:old.holiday, 'YYMMDDHH24MISS') );
  end;
/
show errors

create trigger inv_mutual_fund_frgncal_del
  before delete on mutual_fund_frgncal
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_frgncal', 'del', 0, :old.institution_code||','||:old.product_code||','||to_char(:old.holiday, 'YYMMDDHH24MISS') );
  end;
/
show errors

--------------------------------------------------
--- mutual_fund_day_balance

create trigger inv_mutual_fund_day_balanc_ins
  after insert on mutual_fund_day_balance
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_day_balance', 'ins', 0, :new.rowid );
  end;
/
show errors

create trigger inv_mutual_fund_day_balanc_upd
  before update on mutual_fund_day_balance
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_day_balance', 'upd', 0, :old.rowid );
  end;
/
show errors

create trigger inv_mutual_fund_day_balanc_del
  before delete on mutual_fund_day_balance
  for each row
  declare
  begin
    invalidation.on_mutate( 'mutual_fund_day_balance', 'del', 0, :old.rowid );
  end;
/
show errors

@
