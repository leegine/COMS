head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2011.03.16.03.46.50;	author zhang-tengyu;	state Exp;
branches;
next	;
deltatype	text;
kopt	b;
permissions	666;
commitid	6004d80209d0226;
filename	web3bond_master_triggers.sql;


desc
@@


1.1
log
@*** empty log message ***
@
text
@------------------------------------------------------------------
-- Autogenerated per-table triggers for mutators
------------------------------------------------------------------

--------------------------------------------------
--- custodian

create trigger inv_custodian_ins
  after insert on custodian
  for each row
  declare
  begin
    invalidation.on_mutate( 'custodian', 'ins', 0, :new.institution_code||','||:new.custodian_code );
  end;
/
show errors

create trigger inv_custodian_upd
  before update on custodian
  for each row
  declare
  begin
    invalidation.on_mutate( 'custodian', 'upd', 0, :old.institution_code||','||:old.custodian_code );
  end;
/
show errors

create trigger inv_custodian_del
  before delete on custodian
  for each row
  declare
  begin
    invalidation.on_mutate( 'custodian', 'del', 0, :old.institution_code||','||:old.custodian_code );
  end;
/
show errors

--------------------------------------------------
--- bond_auto_exec_limit_action

create trigger inv_bond_auto_exec_limit_a_ins
  after insert on bond_auto_exec_limit_action
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_auto_exec_limit_action', 'ins', 0, :new.product_id||','||to_char(:new.execution_update_date, 'YYMMDDHH24MISS') );
  end;
/
show errors

create trigger inv_bond_auto_exec_limit_a_upd
  before update on bond_auto_exec_limit_action
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_auto_exec_limit_action', 'upd', 0, :old.product_id||','||to_char(:old.execution_update_date, 'YYMMDDHH24MISS') );
  end;
/
show errors

create trigger inv_bond_auto_exec_limit_a_del
  before delete on bond_auto_exec_limit_action
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_auto_exec_limit_action', 'del', 0, :old.product_id||','||to_char(:old.execution_update_date, 'YYMMDDHH24MISS') );
  end;
/
show errors

--------------------------------------------------
--- bond_product_coupon

create trigger inv_bond_product_coupon_ins
  after insert on bond_product_coupon
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_product_coupon', 'ins', 0, :new.product_id||','||to_char(:new.interest_payment_day, 'YYMMDDHH24MISS') );
  end;
/
show errors

create trigger inv_bond_product_coupon_upd
  before update on bond_product_coupon
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_product_coupon', 'upd', 0, :old.product_id||','||to_char(:old.interest_payment_day, 'YYMMDDHH24MISS') );
  end;
/
show errors

create trigger inv_bond_product_coupon_del
  before delete on bond_product_coupon
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_product_coupon', 'del', 0, :old.product_id||','||to_char(:old.interest_payment_day, 'YYMMDDHH24MISS') );
  end;
/
show errors

--------------------------------------------------
--- accrued_interest_calc_cond

create trigger inv_accrued_interest_calc__ins
  after insert on accrued_interest_calc_cond
  for each row
  declare
  begin
    invalidation.on_mutate( 'accrued_interest_calc_cond', 'ins', 0, :new.accrued_interest_calc_type );
  end;
/
show errors

create trigger inv_accrued_interest_calc__upd
  before update on accrued_interest_calc_cond
  for each row
  declare
  begin
    invalidation.on_mutate( 'accrued_interest_calc_cond', 'upd', 0, :old.accrued_interest_calc_type );
  end;
/
show errors

create trigger inv_accrued_interest_calc__del
  before delete on accrued_interest_calc_cond
  for each row
  declare
  begin
    invalidation.on_mutate( 'accrued_interest_calc_cond', 'del', 0, :old.accrued_interest_calc_type );
  end;
/
show errors

--------------------------------------------------
--- bond_branch_condition

create trigger inv_bond_branch_condition_ins
  after insert on bond_branch_condition
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_branch_condition', 'ins', 0, :new.branch_id );
  end;
/
show errors

create trigger inv_bond_branch_condition_upd
  before update on bond_branch_condition
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_branch_condition', 'upd', 0, :old.branch_id );
  end;
/
show errors

create trigger inv_bond_branch_condition_del
  before delete on bond_branch_condition
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_branch_condition', 'del', 0, :old.branch_id );
  end;
/
show errors

--------------------------------------------------
--- bond_issue_coupon_type

create trigger inv_bond_issue_coupon_type_ins
  after insert on bond_issue_coupon_type
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_issue_coupon_type', 'ins', 0, :new.rowid );
  end;
/
show errors

create trigger inv_bond_issue_coupon_type_upd
  before update on bond_issue_coupon_type
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_issue_coupon_type', 'upd', 0, :old.rowid );
  end;
/
show errors

create trigger inv_bond_issue_coupon_type_del
  before delete on bond_issue_coupon_type
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_issue_coupon_type', 'del', 0, :old.rowid );
  end;
/
show errors

--------------------------------------------------
--- bond_order_accept_action

create trigger inv_bond_order_accept_acti_ins
  after insert on bond_order_accept_action
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_order_accept_action', 'ins', 0, :new.product_id||','||:new.institution_code||','||:new.branch_code||','||to_char(:new.order_accept_date, 'YYMMDDHH24MISS') );
  end;
/
show errors

create trigger inv_bond_order_accept_acti_upd
  before update on bond_order_accept_action
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_order_accept_action', 'upd', 0, :old.product_id||','||:old.institution_code||','||:old.branch_code||','||to_char(:old.order_accept_date, 'YYMMDDHH24MISS') );
  end;
/
show errors

create trigger inv_bond_order_accept_acti_del
  before delete on bond_order_accept_action
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_order_accept_action', 'del', 0, :old.product_id||','||:old.institution_code||','||:old.branch_code||','||to_char(:old.order_accept_date, 'YYMMDDHH24MISS') );
  end;
/
show errors

--------------------------------------------------
--- bond_branch_recruit_limit

create trigger inv_bond_branch_recruit_li_ins
  after insert on bond_branch_recruit_limit
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_branch_recruit_limit', 'ins', 0, :new.product_id||','||:new.institution_code||','||:new.branch_code );
  end;
/
show errors

create trigger inv_bond_branch_recruit_li_upd
  before update on bond_branch_recruit_limit
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_branch_recruit_limit', 'upd', 0, :old.product_id||','||:old.institution_code||','||:old.branch_code );
  end;
/
show errors

create trigger inv_bond_branch_recruit_li_del
  before delete on bond_branch_recruit_limit
  for each row
  declare
  begin
    invalidation.on_mutate( 'bond_branch_recruit_limit', 'del', 0, :old.product_id||','||:old.institution_code||','||:old.branch_code );
  end;
/
show errors

@
