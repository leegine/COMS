head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2011.03.15.03.06.20;	author zhang-tengyu;	state Exp;
branches;
next	;
deltatype	text;
kopt	b;
permissions	666;
commitid	8b84d7ecf833551;
filename	gtl_account_triggers.sql;


desc
@@


1.1
log
@*** empty log message ***
@
text
@------------------------------------------------------------------
-- Autogenerated per-table triggers for mutators
------------------------------------------------------------------

--------------------------------------------------
--- account_preferences

create trigger inv_account_preferences_ins
  after insert on account_preferences
  for each row
  declare
  begin
    invalidation.on_mutate( 'account_preferences', 'ins', :new.account_id, :new.account_id||','||:new.name||','||:new.name_serial_no );
  end;
/
show errors

create trigger inv_account_preferences_upd
  before update on account_preferences
  for each row
  declare
  begin
    invalidation.on_mutate( 'account_preferences', 'upd', :old.account_id, :old.account_id||','||:old.name||','||:old.name_serial_no );
  end;
/
show errors

create trigger inv_account_preferences_del
  before delete on account_preferences
  for each row
  declare
  begin
    invalidation.on_mutate( 'account_preferences', 'del', :old.account_id, :old.account_id||','||:old.name||','||:old.name_serial_no );
  end;
/
show errors

--------------------------------------------------
--- asset

create trigger inv_asset_ins
  after insert on asset
  for each row
  declare
  begin
    invalidation.on_mutate( 'asset', 'ins', :new.account_id, :new.asset_id );
  end;
/
show errors

create trigger inv_asset_upd
  before update on asset
  for each row
  declare
  begin
    invalidation.on_mutate( 'asset', 'upd', :old.account_id, :old.asset_id );
  end;
/
show errors

create trigger inv_asset_del
  before delete on asset
  for each row
  declare
  begin
    invalidation.on_mutate( 'asset', 'del', :old.account_id, :old.asset_id );
  end;
/
show errors

--------------------------------------------------
--- asset_unit

create trigger inv_asset_unit_ins
  after insert on asset_unit
  for each row
  declare
  begin
    invalidation.on_mutate( 'asset_unit', 'ins', :new.account_id, :new.asset_unit_id );
  end;
/
show errors

create trigger inv_asset_unit_upd
  before update on asset_unit
  for each row
  declare
  begin
    invalidation.on_mutate( 'asset_unit', 'upd', :old.account_id, :old.asset_unit_id );
  end;
/
show errors

create trigger inv_asset_unit_del
  before delete on asset_unit
  for each row
  declare
  begin
    invalidation.on_mutate( 'asset_unit', 'del', :old.account_id, :old.asset_unit_id );
  end;
/
show errors

--------------------------------------------------
--- asset_unit_sales

create trigger inv_asset_unit_sales_ins
  after insert on asset_unit_sales
  for each row
  declare
  begin
    invalidation.on_mutate( 'asset_unit_sales', 'ins', :new.account_id, :new.asset_unit_sales_id );
  end;
/
show errors

create trigger inv_asset_unit_sales_upd
  before update on asset_unit_sales
  for each row
  declare
  begin
    invalidation.on_mutate( 'asset_unit_sales', 'upd', :old.account_id, :old.asset_unit_sales_id );
  end;
/
show errors

create trigger inv_asset_unit_sales_del
  before delete on asset_unit_sales
  for each row
  declare
  begin
    invalidation.on_mutate( 'asset_unit_sales', 'del', :old.account_id, :old.asset_unit_sales_id );
  end;
/
show errors

--------------------------------------------------
--- gen_fin_transaction

create trigger inv_gen_fin_transaction_ins
  after insert on gen_fin_transaction
  for each row
  declare
  begin
    invalidation.on_mutate( 'gen_fin_transaction', 'ins', :new.account_id, :new.transaction_id );
  end;
/
show errors

create trigger inv_gen_fin_transaction_upd
  before update on gen_fin_transaction
  for each row
  declare
  begin
    invalidation.on_mutate( 'gen_fin_transaction', 'upd', :old.account_id, :old.transaction_id );
  end;
/
show errors

create trigger inv_gen_fin_transaction_del
  before delete on gen_fin_transaction
  for each row
  declare
  begin
    invalidation.on_mutate( 'gen_fin_transaction', 'del', :old.account_id, :old.transaction_id );
  end;
/
show errors

--------------------------------------------------
--- locked_asset_details

create trigger inv_locked_asset_details_ins
  after insert on locked_asset_details
  for each row
  declare
  begin
    invalidation.on_mutate( 'locked_asset_details', 'ins', :new.account_id, :new.asset_id );
  end;
/
show errors

create trigger inv_locked_asset_details_upd
  before update on locked_asset_details
  for each row
  declare
  begin
    invalidation.on_mutate( 'locked_asset_details', 'upd', :old.account_id, :old.asset_id );
  end;
/
show errors

create trigger inv_locked_asset_details_del
  before delete on locked_asset_details
  for each row
  declare
  begin
    invalidation.on_mutate( 'locked_asset_details', 'del', :old.account_id, :old.asset_id );
  end;
/
show errors

--------------------------------------------------
--- participant

create trigger inv_participant_ins
  after insert on participant
  for each row
  declare
  begin
    invalidation.on_mutate( 'participant', 'ins', :new.account_id, :new.account_id||','||:new.participant_id );
  end;
/
show errors

create trigger inv_participant_upd
  before update on participant
  for each row
  declare
  begin
    invalidation.on_mutate( 'participant', 'upd', :old.account_id, :old.account_id||','||:old.participant_id );
  end;
/
show errors

create trigger inv_participant_del
  before delete on participant
  for each row
  declare
  begin
    invalidation.on_mutate( 'participant', 'del', :old.account_id, :old.account_id||','||:old.participant_id );
  end;
/
show errors

--------------------------------------------------
--- sub_account

create trigger inv_sub_account_ins
  after insert on sub_account
  for each row
  declare
  begin
    invalidation.on_mutate( 'sub_account', 'ins', :new.account_id, :new.account_id||','||:new.sub_account_id );
  end;
/
show errors

create trigger inv_sub_account_upd
  before update on sub_account
  for each row
  declare
  begin
    invalidation.on_mutate( 'sub_account', 'upd', :old.account_id, :old.account_id||','||:old.sub_account_id );
  end;
/
show errors

create trigger inv_sub_account_del
  before delete on sub_account
  for each row
  declare
  begin
    invalidation.on_mutate( 'sub_account', 'del', :old.account_id, :old.account_id||','||:old.sub_account_id );
  end;
/
show errors

--------------------------------------------------
--- sub_account_preferences

create trigger inv_sub_account_preference_ins
  after insert on sub_account_preferences
  for each row
  declare
  begin
    invalidation.on_mutate( 'sub_account_preferences', 'ins', :new.account_id, :new.account_id||','||:new.sub_account_id||','||:new.name||','||:new.name_serial_no );
  end;
/
show errors

create trigger inv_sub_account_preference_upd
  before update on sub_account_preferences
  for each row
  declare
  begin
    invalidation.on_mutate( 'sub_account_preferences', 'upd', :old.account_id, :old.account_id||','||:old.sub_account_id||','||:old.name||','||:old.name_serial_no );
  end;
/
show errors

create trigger inv_sub_account_preference_del
  before delete on sub_account_preferences
  for each row
  declare
  begin
    invalidation.on_mutate( 'sub_account_preferences', 'del', :old.account_id, :old.account_id||','||:old.sub_account_id||','||:old.name||','||:old.name_serial_no );
  end;
/
show errors

@
