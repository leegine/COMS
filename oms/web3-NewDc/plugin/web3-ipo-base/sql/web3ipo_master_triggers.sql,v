head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2011.03.15.05.50.03;	author zhang-tengyu;	state Exp;
branches;
next	;
deltatype	text;
kopt	b;
permissions	666;
commitid	8984d7efe084d3b;
filename	web3ipo_master_triggers.sql;


desc
@@


1.1
log
@*** empty log message ***
@
text
@------------------------------------------------------------------
-- Autogenerated per-table triggers for mutators
------------------------------------------------------------------

--------------------------------------------------
--- ipo_product

create trigger inv_ipo_product_ins
  after insert on ipo_product
  for each row
  declare
  begin
    invalidation.on_mutate( 'ipo_product', 'ins', 0, :new.ipo_product_id );
  end;
/
show errors

create trigger inv_ipo_product_upd
  before update on ipo_product
  for each row
  declare
  begin
    invalidation.on_mutate( 'ipo_product', 'upd', 0, :old.ipo_product_id );
  end;
/
show errors

create trigger inv_ipo_product_del
  before delete on ipo_product
  for each row
  declare
  begin
    invalidation.on_mutate( 'ipo_product', 'del', 0, :old.ipo_product_id );
  end;
/
show errors

--------------------------------------------------
--- ipo_bookbuilding

create trigger inv_ipo_bookbuilding_ins
  after insert on ipo_bookbuilding
  for each row
  declare
  begin
    invalidation.on_mutate( 'ipo_bookbuilding', 'ins', 0, :new.ipo_product_id||','||:new.bb_div||','||:new.bb_seq||','||:new.branch_id );
  end;
/
show errors

create trigger inv_ipo_bookbuilding_upd
  before update on ipo_bookbuilding
  for each row
  declare
  begin
    invalidation.on_mutate( 'ipo_bookbuilding', 'upd', 0, :old.ipo_product_id||','||:old.bb_div||','||:old.bb_seq||','||:old.branch_id );
  end;
/
show errors

create trigger inv_ipo_bookbuilding_del
  before delete on ipo_bookbuilding
  for each row
  declare
  begin
    invalidation.on_mutate( 'ipo_bookbuilding', 'del', 0, :old.ipo_product_id||','||:old.bb_div||','||:old.bb_seq||','||:old.branch_id );
  end;
/
show errors

@
