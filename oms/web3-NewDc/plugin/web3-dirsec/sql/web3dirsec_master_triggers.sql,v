head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2011.03.15.04.34.27;	author zhang-tengyu;	state Exp;
branches;
next	;
deltatype	text;
kopt	b;
permissions	666;
commitid	8484d7eec351306;
filename	web3dirsec_master_triggers.sql;


desc
@@


1.1
log
@*** empty log message ***
@
text
@------------------------------------------------------------------
-- Autogenerated per-table triggers for mutators
------------------------------------------------------------------

--------------------------------------------------
--- submit_trigger_info

create trigger inv_submit_trigger_info_ins
  after insert on submit_trigger_info
  for each row
  declare
  begin
    invalidation.on_mutate( 'submit_trigger_info', 'ins', 0, :new.institution_code||','||:new.request_code||','||:new.job_id );
  end;
/
show errors

create trigger inv_submit_trigger_info_upd
  before update on submit_trigger_info
  for each row
  declare
  begin
    invalidation.on_mutate( 'submit_trigger_info', 'upd', 0, :old.institution_code||','||:old.request_code||','||:old.job_id );
  end;
/
show errors

create trigger inv_submit_trigger_info_del
  before delete on submit_trigger_info
  for each row
  declare
  begin
    invalidation.on_mutate( 'submit_trigger_info', 'del', 0, :old.institution_code||','||:old.request_code||','||:old.job_id );
  end;
/
show errors

--------------------------------------------------
--- ap_management

create trigger inv_ap_management_ins
  after insert on ap_management
  for each row
  declare
  begin
    invalidation.on_mutate( 'ap_management', 'ins', 0, :new.ptype||','||:new.request_code );
  end;
/
show errors

create trigger inv_ap_management_upd
  before update on ap_management
  for each row
  declare
  begin
    invalidation.on_mutate( 'ap_management', 'upd', 0, :old.ptype||','||:old.request_code );
  end;
/
show errors

create trigger inv_ap_management_del
  before delete on ap_management
  for each row
  declare
  begin
    invalidation.on_mutate( 'ap_management', 'del', 0, :old.ptype||','||:old.request_code );
  end;
/
show errors

@
