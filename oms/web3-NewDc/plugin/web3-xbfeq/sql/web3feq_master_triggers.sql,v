head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2011.03.16.03.46.50;	author zhang-tengyu;	state Exp;
branches;
next	;
deltatype	text;
kopt	b;
permissions	666;
commitid	6004d80209d0226;
filename	web3feq_master_triggers.sql;


desc
@@


1.1
log
@*** empty log message ***
@
text
@------------------------------------------------------------------
-- Autogenerated per-table triggers for mutators
------------------------------------------------------------------

--------------------------------------------------
--- feq_tick_values_mst

create trigger inv_feq_tick_values_mst_ins
  after insert on feq_tick_values_mst
  for each row
  declare
  begin
    invalidation.on_mutate( 'feq_tick_values_mst', 'ins', 0, :new.market_code||','||:new.low_price );
  end;
/
show errors

create trigger inv_feq_tick_values_mst_upd
  before update on feq_tick_values_mst
  for each row
  declare
  begin
    invalidation.on_mutate( 'feq_tick_values_mst', 'upd', 0, :old.market_code||','||:old.low_price );
  end;
/
show errors

create trigger inv_feq_tick_values_mst_del
  before delete on feq_tick_values_mst
  for each row
  declare
  begin
    invalidation.on_mutate( 'feq_tick_values_mst', 'del', 0, :old.market_code||','||:old.low_price );
  end;
/
show errors

--------------------------------------------------
--- feq_limit_price_range_mst

create trigger inv_feq_limit_price_range__ins
  after insert on feq_limit_price_range_mst
  for each row
  declare
  begin
    invalidation.on_mutate( 'feq_limit_price_range_mst', 'ins', 0, :new.market_code||','||:new.low_price );
  end;
/
show errors

create trigger inv_feq_limit_price_range__upd
  before update on feq_limit_price_range_mst
  for each row
  declare
  begin
    invalidation.on_mutate( 'feq_limit_price_range_mst', 'upd', 0, :old.market_code||','||:old.low_price );
  end;
/
show errors

create trigger inv_feq_limit_price_range__del
  before delete on feq_limit_price_range_mst
  for each row
  declare
  begin
    invalidation.on_mutate( 'feq_limit_price_range_mst', 'del', 0, :old.market_code||','||:old.low_price );
  end;
/
show errors

--------------------------------------------------
--- feq_orderexecution_end

create trigger inv_feq_orderexecution_end_ins
  after insert on feq_orderexecution_end
  for each row
  declare
  begin
    invalidation.on_mutate( 'feq_orderexecution_end', 'ins', 0, :new.institution_code||','||:new.market_code );
  end;
/
show errors

create trigger inv_feq_orderexecution_end_upd
  before update on feq_orderexecution_end
  for each row
  declare
  begin
    invalidation.on_mutate( 'feq_orderexecution_end', 'upd', 0, :old.institution_code||','||:old.market_code );
  end;
/
show errors

create trigger inv_feq_orderexecution_end_del
  before delete on feq_orderexecution_end
  for each row
  declare
  begin
    invalidation.on_mutate( 'feq_orderexecution_end', 'del', 0, :old.institution_code||','||:old.market_code );
  end;
/
show errors

--------------------------------------------------
--- foreign_cost

create trigger inv_foreign_cost_ins
  after insert on foreign_cost
  for each row
  declare
  begin
    invalidation.on_mutate( 'foreign_cost', 'ins', 0, :new.institution_code||','||:new.market_code||','||:new.cost_div||','||to_char(:new.appli_start_date, 'YYMMDDHH24MISS')||','||:new.amount_from||','||:new.side_div );
  end;
/
show errors

create trigger inv_foreign_cost_upd
  before update on foreign_cost
  for each row
  declare
  begin
    invalidation.on_mutate( 'foreign_cost', 'upd', 0, :old.institution_code||','||:old.market_code||','||:old.cost_div||','||to_char(:old.appli_start_date, 'YYMMDDHH24MISS')||','||:old.amount_from||','||:old.side_div );
  end;
/
show errors

create trigger inv_foreign_cost_del
  before delete on foreign_cost
  for each row
  declare
  begin
    invalidation.on_mutate( 'foreign_cost', 'del', 0, :old.institution_code||','||:old.market_code||','||:old.cost_div||','||to_char(:old.appli_start_date, 'YYMMDDHH24MISS')||','||:old.amount_from||','||:old.side_div );
  end;
/
show errors

--------------------------------------------------
--- special_product_foreign_cost

create trigger inv_special_product_foreig_ins
  after insert on special_product_foreign_cost
  for each row
  declare
  begin
    invalidation.on_mutate( 'special_product_foreign_cost', 'ins', 0, :new.institution_code||','||:new.market_code||','||:new.product_id||','||:new.offshore_product_code||','||:new.cost_div||','||to_char(:new.appli_start_date, 'YYMMDDHH24MISS')||','||:new.amount_from||','||:new.side_div );
  end;
/
show errors

create trigger inv_special_product_foreig_upd
  before update on special_product_foreign_cost
  for each row
  declare
  begin
    invalidation.on_mutate( 'special_product_foreign_cost', 'upd', 0, :old.institution_code||','||:old.market_code||','||:old.product_id||','||:old.offshore_product_code||','||:old.cost_div||','||to_char(:old.appli_start_date, 'YYMMDDHH24MISS')||','||:old.amount_from||','||:old.side_div );
  end;
/
show errors

create trigger inv_special_product_foreig_del
  before delete on special_product_foreign_cost
  for each row
  declare
  begin
    invalidation.on_mutate( 'special_product_foreign_cost', 'del', 0, :old.institution_code||','||:old.market_code||','||:old.product_id||','||:old.offshore_product_code||','||:old.cost_div||','||to_char(:old.appli_start_date, 'YYMMDDHH24MISS')||','||:old.amount_from||','||:old.side_div );
  end;
/
show errors

@
